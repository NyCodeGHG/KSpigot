
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Extended Spigot and Bukkit API for Kotlin">
      
      
      
        <meta name="author" content="Jakob Kretzschmar">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>Setup using Gradle - KSpigot</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#ff6e42">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="deep-orange" data-md-color-accent="amber">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gradle-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="KSpigot" class="md-header__button md-logo" aria-label="KSpigot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KSpigot
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setup using Gradle
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/bluefireoly/KSpigot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bluefireoly/KSpigot
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="KSpigot" class="md-nav__button md-logo" aria-label="KSpigot" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    KSpigot
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bluefireoly/KSpigot/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    bluefireoly/KSpigot
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Setup
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      <label class="md-nav__link" for="__nav_2_1">
        For absolute beginners
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="For absolute beginners" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          For absolute beginners
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../beginners/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        Starting a new project
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setup using Gradle
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Setup using Gradle
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gradle-configuration" class="md-nav__link">
    Gradle configuration
  </a>
  
    <nav class="md-nav" aria-label="Gradle configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java-version" class="md-nav__link">
    Java version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-the-spigot-dependency" class="md-nav__link">
    Add the Spigot dependency
  </a>
  
    <nav class="md-nav" aria-label="Add the Spigot dependency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-just-the-spigot-api" class="md-nav__link">
    A Just the Spigot API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-the-regular-spigot-dependency" class="md-nav__link">
    B The regular Spigot dependency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-kspigot" class="md-nav__link">
    Add KSpigot
  </a>
  
    <nav class="md-nav" aria-label="Add KSpigot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-the-dependency" class="md-nav__link">
    Add the dependency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shade-kspigot-into-your-jar-file" class="md-nav__link">
    Shade KSpigot into your jar file
  </a>
  
    <nav class="md-nav" aria-label="Shade KSpigot into your jar file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relocate-kspigot-during-the-shadow-process" class="md-nav__link">
    Relocate KSpigot during the shadow process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-your-final-plugin" class="md-nav__link">
    Build your final plugin
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../entrypoint/" class="md-nav__link">
        Entrypoint to your plugin
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Extensions
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Extensions" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Extensions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/listener/" class="md-nav__link">
        Event listener
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/tasks/" class="md-nav__link">
        Tasks
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#gradle-configuration" class="md-nav__link">
    Gradle configuration
  </a>
  
    <nav class="md-nav" aria-label="Gradle configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java-version" class="md-nav__link">
    Java version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-the-spigot-dependency" class="md-nav__link">
    Add the Spigot dependency
  </a>
  
    <nav class="md-nav" aria-label="Add the Spigot dependency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-just-the-spigot-api" class="md-nav__link">
    A Just the Spigot API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-the-regular-spigot-dependency" class="md-nav__link">
    B The regular Spigot dependency
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-kspigot" class="md-nav__link">
    Add KSpigot
  </a>
  
    <nav class="md-nav" aria-label="Add KSpigot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-the-dependency" class="md-nav__link">
    Add the dependency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shade-kspigot-into-your-jar-file" class="md-nav__link">
    Shade KSpigot into your jar file
  </a>
  
    <nav class="md-nav" aria-label="Shade KSpigot into your jar file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relocate-kspigot-during-the-shadow-process" class="md-nav__link">
    Relocate KSpigot during the shadow process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-your-final-plugin" class="md-nav__link">
    Build your final plugin
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bluefireoly/KSpigot/edit/master/guide/docs/setup/gradle.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Setup using Gradle</h1>
                
                <p>The following code snippets can be used in your <code>build.gradle.kts</code> file.</p>
<h2 id="gradle-configuration">Gradle configuration<a class="headerlink" href="#gradle-configuration" title="Permanent link">&para;</a></h2>
<h3 id="java-version">Java version<a class="headerlink" href="#java-version" title="Permanent link">&para;</a></h3>
<p>Configuring the Java version is nothing specific to KSpigot, it should always be done. It is listed in this guide anyways, because a lot of beginners forget to do this - and then get confused about not being able to use inline functions.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">javaVersion</span> <span class="o">=</span> <span class="m">8</span> <span class="c1">// change this to your Java version</span>

<span class="n">tasks</span><span class="p">.</span><span class="na">compileJava</span> <span class="p">{</span>
    <span class="n">options</span><span class="p">.</span><span class="na">release</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">javaVersion</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">tasks</span><span class="p">.</span><span class="na">compileKotlin</span> <span class="p">{</span>
    <span class="n">kotlinOptions</span><span class="p">.</span><span class="na">jvmTarget</span> <span class="o">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">javaVersion</span> <span class="o">&lt;</span> <span class="m">9</span><span class="p">)</span> <span class="s">&quot;1.</span><span class="si">$</span><span class="n">javaVersion</span><span class="s">&quot;</span> <span class="k">else</span> <span class="s">&quot;</span><span class="si">$</span><span class="n">javaVersion</span><span class="s">&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="add-the-spigot-dependency">Add the Spigot dependency<a class="headerlink" href="#add-the-spigot-dependency" title="Permanent link">&para;</a></h2>
<p>You have two options:</p>
<ul>
<li><strong>A</strong> add just the Spigot API, if you wish to have a stable API which is built for users</li>
<li><strong>B</strong> use the regular Spigot dependency which contains the whole Minecraft server code (often called "nms" (net.minecraft.server)), as well as the underlying CraftBukkit code - this option gives you a lot more possibilities, but it can also be dangerous</li>
</ul>
<h3 id="a-just-the-spigot-api"><strong>A</strong> Just the Spigot API<a class="headerlink" href="#a-just-the-spigot-api" title="Permanent link">&para;</a></h3>
<p>KSpigot is an extension for Spigot, you still need the regular Spigot dependency.</p>
<p>Add the Spigot Maven repository to your <code>repositories</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">repositories</span> <span class="p">{</span>
    <span class="n">maven</span><span class="p">(</span><span class="s">&quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Add the Spigot API dependency to your <code>dependencies</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">dependencies</span> <span class="p">{</span>
    <span class="n">compileOnly</span><span class="p">(</span><span class="s">&quot;org.spigotmc:spigot-api:1.16.5-R0.1-SNAPSHOT&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Replace the given version at the end of the dependency notation with the version you want to use. <a href="https://hub.spigotmc.org/nexus/content/repositories/snapshots/org/spigotmc/spigot-api/">See all versions</a> in the Spigot Maven repository.</p>
<h3 id="b-the-regular-spigot-dependency"><strong>B</strong> The regular Spigot dependency<a class="headerlink" href="#b-the-regular-spigot-dependency" title="Permanent link">&para;</a></h3>
<p>Download the <a href="https://hub.spigotmc.org/jenkins/job/BuildTools/">BuildTools</a> to a separate directory, navigate to this directory using your terminal and run <code>java -jar BuildTools.jar</code> in order to generate the .jar file of the Spigot server. This file will be installed to your Maven Local repository automatically, so you can add it as dependency to your project. Additionally, you can copy it to anywhere else and use it to create a server. (More information can be found in the <a href="https://www.spigotmc.org/wiki/buildtools/">Spigot Wiki</a>)</p>
<p>Add your Maven Local repository to your <code>repositories</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">repositories</span> <span class="p">{</span>
    <span class="n">mavenLocal</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>Add the regular Spigot dependency to your <code>dependencies</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">dependencies</span> <span class="p">{</span>
    <span class="n">compileOnly</span><span class="p">(</span><span class="s">&quot;org.spigotmc:spigot:1.16.5-R0.1-SNAPSHOT&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Make sure that the version number before <code>-R0.1-SNAPSHOT</code> matches the version you have just built using the BuildTools.</p>
<h2 id="add-kspigot">Add KSpigot<a class="headerlink" href="#add-kspigot" title="Permanent link">&para;</a></h2>
<h3 id="add-the-dependency">Add the dependency<a class="headerlink" href="#add-the-dependency" title="Permanent link">&para;</a></h3>
<p>Add the following repository to your <code>repositories</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">repositories</span> <span class="p">{</span>
    <span class="n">mavenCentral</span><span class="p">()</span>
    <span class="n">maven</span><span class="p">(</span><span class="s">&quot;https://repo.codemc.io/repository/maven-snapshots/&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Add the KSpigot dependency to your <code>dependencies</code> scope:</p>
<div class="highlight"><pre><span></span><code><span class="n">dependencies</span> <span class="p">{</span>
    <span class="n">implementation</span><span class="p">(</span><span class="s">&quot;net.axay&quot;</span><span class="p">,</span> <span class="s">&quot;kspigot&quot;</span><span class="p">,</span> <span class="s">&quot;VERSION&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Replace <code>VERSION</code> with the version you want to use. </p>
<p>Latest version (without the <code>v</code>): <br>
<img alt="latest KSpigot GitHub release" src="https://img.shields.io/github/v/release/bluefireoly/KSpigot?label=latest%20version" /></p>
<h3 id="shade-kspigot-into-your-jar-file">Shade KSpigot into your jar file<a class="headerlink" href="#shade-kspigot-into-your-jar-file" title="Permanent link">&para;</a></h3>
<p>Add the widely used shadow plugin:</p>
<div class="highlight"><pre><span></span><code><span class="n">plugins</span> <span class="p">{</span>
    <span class="n">id</span><span class="p">(</span><span class="s">&quot;com.github.johnrengelman.shadow&quot;</span><span class="p">)</span> <span class="n">version</span> <span class="s">&quot;VERSION&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Replace <code>VERSION</code> with the version number from the following badge: <br>
<img alt="latest shadow plugin version" src="https://api.bintray.com/packages/johnrengelman/gradle-plugins/gradle-shadow-plugin/images/download.png" /></p>
<h4 id="relocate-kspigot-during-the-shadow-process">Relocate KSpigot during the shadow process<a class="headerlink" href="#relocate-kspigot-during-the-shadow-process" title="Permanent link">&para;</a></h4>
<p>In order to avoid conflicts with other plugins, you should relocate KSpigot. This can be done using the shadow plugin from the previous step.</p>
<p>Configure it like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">tasks</span> <span class="p">{</span>
    <span class="n">shadowJar</span> <span class="p">{</span>
        <span class="n">relocate</span><span class="p">(</span><span class="s">&quot;net.axay.kspigot&quot;</span><span class="p">,</span> <span class="s">&quot;YOURMAINGROUP.shadow.net.axay.kspigot&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Replace <code>YOURMAINGROUP</code> with the main package structure you use (e.g. <code>org.example.</code>)</p>
<h2 id="build-your-final-plugin">Build your final plugin<a class="headerlink" href="#build-your-final-plugin" title="Permanent link">&para;</a></h2>
<p>Run the Gradle task called <code>shadowJar</code>. Using IntelliJ IDEA, this can be done using the Gradle sidebar, where you can find the task under <code>Tasks &gt; Shadow &gt; shadowJar</code>. Alternatively, you can also run <code>./gradlew shadowJar</code> in your terminal.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../project/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Starting a new project
            </div>
          </div>
        </a>
      
      
        <a href="../entrypoint/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Entrypoint to your plugin
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © (2021) - Jakob Kretzschmar
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>